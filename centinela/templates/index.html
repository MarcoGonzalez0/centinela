{% extends 'base.html' %}
{% load static %}


{% block content %}

<!-- Menu de busqueda y muestra de resultados a travÃ©s de grÃ¡ficos -->
<div class="flex flex-col items-center">

<!-- Logo -->
<div class="flex items-center justify-center rounded-xl shadow bg-transparent">
  <img src="{% static 'img/nombre_logo.png' %}" alt="Logo" class="w-200 h-60">
</div>


<!-- Formulario -->
 <!--implementar validaciones con django-->
 
<form method="post" class="w-full max-w-xl p-6 rounded-2xl shadow space-y-6">
    {% csrf_token %}
    <!-- Inputs en una fila -->
    <div class="flex space-x-4">
    
    <!-- Input dominio/IP -->
    <input 
        type="text" 
        name="target" 
        placeholder="Dominio o IP" 
        class="flex-1 px-4 py-2 border rounded-xl shadow-sm bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
        required
    >

    <!-- Dropdown mÃ³dulos -->
    <div class="relative">
        <button 
        type="button" 
        id="dropdownButton"
        class="px-4 py-2 border rounded-xl shadow-sm bg-gray-100 hover:bg-gray-200 focus:outline-none"
        >
        Seleccionar mÃ³dulos â–¼
        </button>

        <!-- MenÃº desplegable -->
        <div 
        id="dropdownMenu" 
        class="hidden absolute right-0 mt-2 w-48 bg-white border rounded-xl shadow-lg p-3 space-y-2"
        >
        <label class="flex items-center space-x-2">
            <input type="checkbox" name="modules" value="dns">
            <span>DNS</span>
            <span class="cursor-help text-blue-500 text-sm font-bold border border-blue-500 rounded-full w-4 h-4 flex items-center justify-center text-xs" title="Herramienta para consultas DNS de IPs y dominios">i</span>
        </label>

        <label class="flex items-center space-x-2">
            <input type="checkbox" name="modules" value="dorks">
            <span>Dorks</span>
            <span class="cursor-help text-blue-500 text-sm font-bold border border-blue-500 rounded-full w-4 h-4 flex items-center justify-center text-xs" title="BÃºsquedas avanzadas en Google">i</span>
        </label>

        <label class="flex items-center space-x-2">
            <input type="checkbox" name="modules" value="headerhttp">
            <span>Headers HTTP</span>
            <span class="cursor-help text-blue-500 text-sm font-bold border border-blue-500 rounded-full w-4 h-4 flex items-center justify-center text-xs" title="Herramienta para analizar los headers HTTP de un sitio web">i</span>
        </label>

        <label class="flex items-center space-x-2">
            <input type="checkbox" name="modules" value="nmap">
            <span>Nmap</span>
            <span class="cursor-help text-blue-500 text-sm font-bold border border-blue-500 rounded-full w-4 h-4 flex items-center justify-center text-xs" title="EscÃ¡ner de red para descubrir hosts y servicios">i</span>
        </label>

        <label class="flex items-center space-x-2">
            <input type="checkbox" name="modules" value="ssl">
            <span>SSL</span>
            <span class="cursor-help text-blue-500 text-sm font-bold border border-blue-500 rounded-full w-4 h-4 flex items-center justify-center text-xs" title="Herramienta para analizar la seguridad SSL de un sitio web">i</span>
        </label>

        <label class="flex items-center space-x-2">
            <input type="checkbox" name="modules" value="whois">
            <span>Whois</span>
            <span class="cursor-help text-blue-500 text-sm font-bold border border-blue-500 rounded-full w-4 h-4 flex items-center justify-center text-xs" title="Herramienta para consultar informaciÃ³n WHOIS de dominios">i</span>
        </label>
        
        <!-- Agrega mÃ¡s mÃ³dulos aquÃ­ -->
        </div>
    </div>

    </div>

    <!-- BotÃ³n Escanear -->
    <div class="text-center">
    <button 
        type="submit" 
        class="px-6 py-2 bg-blue-600 text-white text-xl rounded-xl shadow hover:bg-blue-700 transition"
    >
        Escanear ðŸš€
    </button>
    </div>

    <!--Errores de formulario-->
    {% if form.errors %}
        <div class="mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded">
            <ul class="list-disc list-inside">
                {% for field in form %}
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
</form>

</div>

<!--AQUI VAN LOS RESULTADOS DE LOS MODULOS COMO GRAFICOS U OTROS (quizas en otros archivos)-->
{% include 'scan_base_layout.html' %}



     
{% endblock %}

{% block extra_js %}
{{ block.super }} <!-- este es para importar los scripts del padre -->
<script src="{% static 'js/modulosDesplegables.js' %}"></script>
{% endblock %}